@page
@model Ace_Job_Agency.Pages.RegisterModel
@{
 ViewData["Title"] = "Register";
 Layout = "_Layout";
}

<style>
 .register-page {
 min-height: calc(100vh - 140px);
 display: flex;
 align-items: center;
 justify-content: center;
 }
 .register-card {
 width: 100%;
 max-width: 880px;
 }
 .register-card .card-header {
 padding: 0.875rem 1.25rem;
 }
 .register-card .card-body {
 padding: 1rem 1.25rem;
 }
 .register-card .form-group {
 margin-bottom: 0.6rem;
 }
 .register-card .form-label {
 margin-bottom: 0.2rem;
 font-size: 0.7rem;
 }
 .register-card .form-control {
 padding: 0.4rem 0.65rem;
 font-size: 0.85rem;
 }
 .register-card textarea.form-control {
 min-height: 50px;
 }
 .form-grid {
 display: grid;
 grid-template-columns: repeat(3, 1fr);
 gap: 0.6rem 1rem;
 }
 @@media (max-width: 768px) {
 .form-grid { grid-template-columns: 1fr 1fr; }
 }
 @@media (max-width: 480px) {
 .form-grid { grid-template-columns: 1fr; }
 }
</style>

<div class="register-page">
 <div class="register-card card">
 <div class="card-header" style="text-align: center;">
 <h2 style="margin: 0; color: white; display: flex; align-items: center; justify-content: center; gap: 0.5rem; font-size: 1.25rem;">
 <i class="bi bi-person-plus-fill"></i>
 Create Account
 </h2>
 </div>

 <div class="card-body">
 <form method="post" enctype="multipart/form-data" id="registerForm" asp-antiforgery="true">
 <div asp-validation-summary="All"></div>

 <div class="form-grid">
 <div class="form-group">
 <label class="form-label" asp-for="RModel.FirstName"><i class="bi bi-person me-1"></i>FIRST NAME</label>
 <input type="text" asp-for="RModel.FirstName" class="form-control" placeholder="John" maxlength="100" />
 </div>

 <div class="form-group">
 <label class="form-label" asp-for="RModel.LastName"><i class="bi bi-person me-1"></i>LAST NAME</label>
 <input type="text" asp-for="RModel.LastName" class="form-control" placeholder="Doe" maxlength="100" />
 </div>

 <div class="form-group">
 <label class="form-label" asp-for="RModel.Gender"><i class="bi bi-gender-ambiguous me-1"></i>GENDER</label>
 <select asp-for="RModel.Gender" class="form-control form-select">
 <option value="">Select</option>
 <option value="Male">Male</option>
 <option value="Female">Female</option>
 <option value="Other">Other</option>
 </select>
 </div>

 <div class="form-group">
 <label class="form-label" asp-for="RModel.NRIC"><i class="bi bi-card-text me-1"></i>NRIC</label>
 <input type="text" asp-for="RModel.NRIC" class="form-control" placeholder="S1234567A" maxlength="9" />
 </div>

 <div class="form-group">
 <label class="form-label" asp-for="RModel.Email"><i class="bi bi-envelope me-1"></i>EMAIL</label>
 <input type="email" asp-for="RModel.Email" class="form-control" placeholder="you@example.com" maxlength="256" />
 </div>

 <div class="form-group">
 <label class="form-label" asp-for="RModel.DateOfBirth"><i class="bi bi-calendar me-1"></i>DATE OF BIRTH</label>
 <input type="date" asp-for="RModel.DateOfBirth" class="form-control" />
 </div>

 <div class="form-group">
 <label class="form-label" asp-for="RModel.Password"><i class="bi bi-lock me-1"></i>PASSWORD</label>
 <input type="password" asp-for="RModel.Password" class="form-control" id="password" placeholder="Min 12 chars" minlength="12" />
 <div id="passwordStrength" style="font-size: 0.7rem; margin-top: 0.15rem; font-weight: 600;"></div>
 </div>

 <div class="form-group">
 <label class="form-label" asp-for="RModel.ConfirmPassword"><i class="bi bi-lock-fill me-1"></i>CONFIRM PASSWORD</label>
 <input type="password" asp-for="RModel.ConfirmPassword" class="form-control" placeholder="Re-enter password" />
 </div>

 <div class="form-group">
 <label class="form-label" asp-for="RModel.Resume"><i class="bi bi-file-pdf me-1"></i>RESUME</label>
 <input type="file" asp-for="RModel.Resume" class="form-control" accept=".pdf,.docx,.jpg,.jpeg" style="font-size: 0.75rem; padding: 0.35rem 0.5rem;" />
 </div>
 </div>

 <div class="form-group" style="margin-top: 0.6rem;">
 <label class="form-label" asp-for="RModel.WhoAmI"><i class="bi bi-chat-text me-1"></i>WHO AM I</label>
 <textarea asp-for="RModel.WhoAmI" class="form-control" rows="2" maxlength="500" placeholder="Brief description..."></textarea>
 </div>

 <div style="display: flex; align-items: center; justify-content: space-between; margin-top: 0.875rem; flex-wrap: wrap; gap: 0.5rem;">
 <span style="font-size: 0.8rem; color: var(--gray-500);">
 Already have an account? <a href="/Login">Sign in</a>
 </span>
 <button type="submit" class="btn btn-primary">
 <i class="bi bi-check-circle me-1"></i>Create Account
 </button>
 </div>
 </form>
 </div>
 </div>
</div>

@section Scripts {
 <partial name="_ValidationScriptsPartial" />
 <script>
 const password = document.getElementById('password');
 const strength = document.getElementById('passwordStrength');
 if(password){
 password.addEventListener('input', function(e){
 const val = e.target.value;
 let score = 0;
 if(val.length >= 12) score++;
 if(/[a-z]/.test(val)) score++;
 if(/[A-Z]/.test(val)) score++;
 if(/[0-9]/.test(val)) score++;
 if(/[^A-Za-z0-9]/.test(val)) score++;
 const labels = ['Very Weak', 'Weak', 'Fair', 'Good', 'Strong', 'Very Strong'];
 const colors = ['#ef4444', '#f97316', '#f59e0b', '#eab308', '#84cc16', '#10b981'];
 strength.textContent = labels[score];
 strength.style.color = colors[score];
 });
 }
 </script>
}