@page
@model IndexModel
@{
 ViewData["Title"] = "Dashboard";
}

<div style="margin-top: 1rem;">
 @if (Model.CurrentUser != null)
 {
 <!-- Welcome Banner -->
 <div style="text-align: center; margin-bottom: 2rem; animation: fadeInDown 0.6s ease;">
 <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem;">
 Welcome back, <span class="text-gradient">@Html.Encode(Model.CurrentUser.FirstName)</span>! 👋
 </h1>
 <p style="color: var(--gray-600); font-size: 1.1rem;">Manage your profile and account settings</p>
 </div>

 <!-- Profile Card -->
 <div class="card" style="margin-bottom: 2rem;">
 <div class="card-header">
 <h3 style="margin: 0; color: white; display: flex; align-items: center; gap: 0.75rem;">
 <i class="bi bi-person-badge" style="font-size: 1.5rem;"></i>
 Your Profile
 </h3>
 </div>
 <div class="card-body">
 <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
 <div style="background: rgba(99, 102, 241, 0.1); padding: 1.25rem; border-radius: var(--radius-lg); border: 1px solid rgba(99, 102, 241, 0.2);">
 <p style="color: var(--gray-500); margin: 0; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em;">
 <i class="bi bi-person me-1"></i>Full Name
 </p>
 <p style="font-size: 1.1rem; margin: 0.5rem 0 0 0; color: var(--navy); font-weight: 600;">
 @Html.Encode(Model.CurrentUser.FirstName) @Html.Encode(Model.CurrentUser.LastName)
 </p>
 </div>
 <div style="background: rgba(6, 182, 212, 0.1); padding: 1.25rem; border-radius: var(--radius-lg); border: 1px solid rgba(6, 182, 212, 0.2);">
 <p style="color: var(--gray-500); margin: 0; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em;">
 <i class="bi bi-envelope me-1"></i>Email Address
 </p>
 <p style="font-size: 1.1rem; margin: 0.5rem 0 0 0; color: var(--navy); font-weight: 600;">
 @Html.Encode(Model.CurrentUser.Email)
 </p>
 </div>
 <div style="background: rgba(244, 63, 94, 0.1); padding: 1.25rem; border-radius: var(--radius-lg); border: 1px solid rgba(244, 63, 94, 0.2);">
 <p style="color: var(--gray-500); margin: 0; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em;">
 <i class="bi bi-card-text me-1"></i>NRIC
 </p>
 <p style="font-size: 1.1rem; margin: 0.5rem 0 0 0; color: var(--navy); font-weight: 600; font-family: monospace;">
 @Html.Encode(Model.DecryptedNRIC)
 </p>
 </div>
 <div style="background: rgba(139, 92, 246, 0.1); padding: 1.25rem; border-radius: var(--radius-lg); border: 1px solid rgba(139, 92, 246, 0.2);">
 <p style="color: var(--gray-500); margin: 0; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em;">
 <i class="bi bi-gender-ambiguous me-1"></i>Gender
 </p>
 <p style="font-size: 1.1rem; margin: 0.5rem 0 0 0; color: var(--navy); font-weight: 600;">
 @Html.Encode(Model.CurrentUser.Gender ?? "Not specified")
 </p>
 </div>
 </div>

 <!-- About Section -->
 <div style="background: var(--gray-50); padding: 1.5rem; border-radius: var(--radius-lg); margin-bottom: 2rem; border: 1px solid var(--gray-200);">
 <h4 style="color: var(--gray-500); margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
 <i class="bi bi-chat-quote"></i>About You
 </h4>
 <p style="font-size: 1rem; margin: 0; color: var(--gray-700); line-height: 1.8;">
 @Html.Encode(Model.CurrentUser.WhoAmI ?? "No description provided yet. Tell us about yourself!")
 </p>
 </div>

 <!-- Action Buttons -->
 <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
 @if (!string.IsNullOrEmpty(Model.CurrentUser.ResumePath))
 {
 <a href="@Model.CurrentUser.ResumePath" class="btn btn-secondary" target="_blank">
 <i class="bi bi-file-earmark-pdf"></i>Download Resume
 </a>
 }
 <a href="/Manage/ChangePassword" class="btn btn-outline">
 <i class="bi bi-key"></i>Change Password
 </a>
 <a href="/Manage/TwoFactorSetup" class="btn btn-outline">
 <i class="bi bi-shield-lock"></i>2FA Settings
 </a>
 <a href="/Account/Sessions" class="btn btn-outline">
 <i class="bi bi-laptop"></i>Active Sessions
 </a>
 </div>
 </div>
 </div>
 }
 else
 {
 <!-- Guest View -->
 <div style="text-align: center; padding: 4rem 2rem;">
 <div style="font-size: 5rem; margin-bottom: 1.5rem; animation: bounce 2s ease infinite;">💼</div>
 <h1 style="font-size: 3rem; margin-bottom: 1rem;">
 Welcome to <span class="text-gradient">Ace Job Agency</span>
 </h1>
 <p style="color: var(--gray-600); font-size: 1.2rem; margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto;">
 Your career journey starts here. Sign in or create an account to access your profile and explore opportunities.
 </p>
 <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
 <a href="/Login" class="btn btn-primary btn-lg">
 <i class="bi bi-box-arrow-in-right"></i>Sign In
 </a>
 <a href="/Register" class="btn btn-outline btn-lg">
 <i class="bi bi-person-plus"></i>Create Account
 </a>
 </div>
 </div>
 }
</div>
